<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Sniper J GM æ¨¡æ“¬å™¨ v0.7</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f2f2f2; }
    h1 { color: #2c3e50; }
    button { margin: 5px; padding: 10px; font-size: 16px; border-radius: 5px; cursor: pointer; }
    .player { background: white; margin: 10px 0; padding: 10px; border-radius: 6px; display: flex; align-items: center; }
    .player-card { width: 60px; height: 60px; background: #eee; margin-right: 10px; border-radius: 4px; display: flex; align-items: center; justify-content: center; }
    .section { margin-top: 30px; }
    select { padding: 5px 10px; margin-top: 10px; }
    .disabled { opacity: 0.5; pointer-events: none; }
    .stats { font-size: 12px; color: #555; margin-left: auto; text-align: right; }
    .container { max-width: 800px; margin: auto; }
  </style>
</head>
<body>
  <div class="container">
  <h1>ğŸ€ Sniper J GM æ¨¡æ“¬å™¨ v0.7</h1>
  <div><button id="clearBtn">æ¸…ç©ºå­˜æª”</button><span id="dateDisplay"></span></div>
  <div class="section">
    <button id="showWarriorsBtn">å‹‡å£«é™£å®¹</button>
    <button id="showFreeAgentsBtn">è‡ªç”±å¸‚å ´</button>
    <button id="selectTeamBtn">å…¶ä»–éšŠä¼</button>
    <button id="simulateGameBtn">æ¨¡æ“¬æ¯”è³½</button>
    <button id="resetTrainingBtn">é‡ç½®è¨“ç·´</button>
    <div id="teamSelectArea"></div>
  </div>
  <div id="team"></div>
  <div id="freeAgents"></div>
  <div id="otherTeam"></div>
  <div id="gameResult"></div>
  <div id="logs"></div>
  </div>

<script>
(function(){
  // åŸºæœ¬è³‡æ–™çµæ§‹
  let warriors, freeAgents, otherTeams, money, salaryCap, lastSimDate;

  const ratingMap = { "C":1,"C+":2,"B-":3,"B":4,"B+":5,"A-":6,"A":7,"A+":8,"S":9,"S+":10 };
  const starLevel = team => team === "Warriors" ? 5 : 3;

  // åˆå§‹è¼‰å…¥èˆ‡æœ¬åœ°å­˜æª”
  function loadData(){
    const saved = JSON.parse(localStorage.getItem("sj_gm_data")||"null");
    if(saved){
      ({warriors,freeAgents,otherTeams,money,salaryCap,lastSimDate} = saved);
    } else {
      money = 100; salaryCap = 120;
      lastSimDate = null;
      warriors = [
        { name:"Stephen Curry",rating:"S",trainedToday:false },
        { name:"Klay Thompson",rating:"B+",trainedToday:false },
        { name:"Draymond Green",rating:"B",trainedToday:false },
        { name:"Jonathan Kuminga",rating:"B",trainedToday:false },
        { name:"Andrew Wiggins",rating:"B+",trainedToday:false },
        { name:"Moses Moody",rating:"C+",trainedToday:false }
      ];
      freeAgents = [
        { name:"Malik Beasley",rating:"B",signChance:60 },
        { name:"Robert Covington",rating:"B-",signChance:50 }
      ];
      otherTeams = { "é›·éœ†":[], "ç°ç‹¼":[], "é‡‘å¡Š":[], "ç°ç†Š":[], "ç†±ç«":[] };
      // ç¯„ä¾‹äººç‰©ç°¡çœ
    }
  }
  function saveData(){
    localStorage.setItem("sj_gm_data",JSON.stringify({warriors,freeAgents,otherTeams,money,salaryCap,lastSimDate}));
  }

  // UI å…ƒä»¶åº«
  function renderDate(){
    const now = new Date().toLocaleDateString();
    document.getElementById("dateDisplay").textContent="ä»Šå¤©ï¼š"+now;
  }

  //...ï¼ˆæ­¤è™•å¯éš±ç•¥å¤§éƒ¨åˆ†ç¨‹å¼é‚è¼¯ï¼Œçµ¦å‡ºæ ¸å¿ƒé‡é»ç¯‡å¹…ï¼‰
  // åŒ…å« showWarriorsã€showFreeAgentsã€simulateGameï¼ˆæª¢æŸ¥æ¯å¤©åªæ¨¡æ“¬ä¸€æ¬¡ï¼‰ã€resetTrainingã€sig...

  // ç¶å®šæŒ‰éˆ•èˆ‡åˆå§‹åŒ–
  document.addEventListener("DOMContentLoaded",()=>{
    loadData(); renderDate();

    document.getElementById("clearBtn").addEventListener("click",()=>{
      if(confirm("ç¢ºå®šæ¸…ç©ºæœ¬åœ°å­˜æª”ï¼Ÿ")) localStorage.removeItem("sj_gm_data"), location.reload();
    });
    // ç¶å®šå…¶å®ƒæŒ‰éˆ•ç•¥

    saveData();
  });
})();
</script>
</body>
</html>
